<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-defaultDoc/vue/vue3" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">vue3学习笔记 | INFO.CENTER</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cnjszzw.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://cnjszzw.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://cnjszzw.github.io/docs/defaultDoc/vue/vue3"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="vue3学习笔记 | INFO.CENTER"><meta data-rh="true" name="description" content="来源 - 尚硅谷-禹神"><meta data-rh="true" property="og:description" content="来源 - 尚硅谷-禹神"><link data-rh="true" rel="icon" href="/img/my-logo.svg"><link data-rh="true" rel="canonical" href="https://cnjszzw.github.io/docs/defaultDoc/vue/vue3"><link data-rh="true" rel="alternate" href="https://cnjszzw.github.io/docs/defaultDoc/vue/vue3" hreflang="en"><link data-rh="true" rel="alternate" href="https://cnjszzw.github.io/docs/defaultDoc/vue/vue3" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="INFO.CENTER RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="INFO.CENTER Atom Feed">





<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CCYCB23FSV"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CCYCB23FSV",{})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-NQ553VVM",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.fc76cd85.css">
<script src="/assets/js/runtime~main.b5d9ab4e.js" defer="defer"></script>
<script src="/assets/js/main.dfe21979.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>




<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NQ553VVM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><link rel="preload" as="image" href="/img/my-logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/my-logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/my-logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">INFO.CENTER</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/defaultDoc/Intro">文档</a><a class="navbar__item navbar__link" href="/docs/interviewDoc/HR面试指南">面试</a><a class="navbar__item navbar__link" href="/docs/articleDoc/技术文章推荐">学习</a><a class="navbar__item navbar__link" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://cnjszzw.github.io/cv/zh-cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">OhMyCV<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/Intro">技术文档中心</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/算法">算法</a><button aria-label="Expand sidebar category &#x27;算法&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/java">Java</a><button aria-label="Expand sidebar category &#x27;Java&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/消息队列">消息队列</a><button aria-label="Expand sidebar category &#x27;消息队列&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/MyBatis">MyBatis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/MySQL">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/Redis">Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/SpringBoot">SpringBoot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/SpringCloud">微服务架构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/git">Git</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/defaultDoc/vue/vue3">vue</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/defaultDoc/vue/vue3">vue3学习笔记</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/计算机网络">计算机网络</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/设计模式">设计模式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/defaultDoc/领域驱动设计">领域驱动设计</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">vue</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">vue3学习笔记</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>一、vue3项目结构</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1整体结构">1.整体结构<a href="#1整体结构" class="hash-link" aria-label="Direct link to 1.整体结构" title="Direct link to 1.整体结构">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my-vue3-project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── node_modules			 # 依赖的文件，类似于java中的jar包  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── public/            # 静态资源目录（不经过构建处理）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── favicon.ico    # 网站图标</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src/							 # 源代码文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── assets/        # 静态资源（图片、字体等，会经过构建处理）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── logo.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── components/    # 公共组件（可复用的 UI 组件）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Example.vue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── App.vue        # 根组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── main.js        # 入口文件（初始化 Vue 应用）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── index.html       	 # 入口文件（使用vite），如果是webpack可能就是main.js或者main.js </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── env.d.ts       		 # 这个文件的作用就是让项目识别jpg txt各种常用文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── package.json       # 项目依赖和脚本配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── package-lock.json  # 项目依赖和脚本配置(这个一般是自动生成的)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── tsconfig.app.json  # 配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── tsconfig.json  		 # 配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── tsconfig.lock.json # 配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── vite.config.js     # 整个文件的配置，包括插件和代理都在这配置│</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2indexhtml">2.<code>index.html</code><a href="#2indexhtml" class="hash-link" aria-label="Direct link to 2indexhtml" title="Direct link to 2indexhtml">​</a></h2>
<p>注意其中的<code>src=&quot;/src/main.ts&quot;</code>支撑着一切</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">icon</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/favicon.ico</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Vite App</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">app</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">module</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/src/main.ts</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3srcmainjs">3.<code>src/main.js</code><a href="#3srcmainjs" class="hash-link" aria-label="Direct link to 3srcmainjs" title="Direct link to 3srcmainjs">​</a></h2>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./assets/main.css&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//引入createApp用于创建应用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createApp </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> App </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./App.vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//引入App根组件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">createApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">App</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">mount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;#app&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果把写app比喻成种花</p>
<p><code>createApp</code>就是花盆（创建应用 ）</p>
<p><code>App</code>就是花的根（组件），所以 <code>src/app.vue</code>就是组件了 ，而树叶和枝叶（组件）就是<code>compontents</code>下的vue组件</p>
<p><strong>src中main.js和app.vue必不可少</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4appvue">4.App.vue<a href="#4appvue" class="hash-link" aria-label="Direct link to 4.App.vue" title="Direct link to 4.App.vue">​</a></h2>
<p>一个vue文件中，最基本就三个标签：<code>&lt;template&gt;</code> <code>&lt;script&gt;</code> <code>&lt;style&gt;</code></p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	//用来写结构的，html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //用来写交互的，js或者ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //用来写样式的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>案例：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;app&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;你好啊！&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;App&#x27; // 组件名，导出暴露给别人用的，App就是类似于唯一Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;style&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.app {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  background-color: #ddd;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  box-shadow: 0 0 10px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  border-radius: 10px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  padding: 20px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>二、创建项目/一个例子</h1>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{name}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{age}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;年龄+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;showTel&quot;&gt;点我查看联系方式&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;App&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        age:18,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tel:&#x27;13888888888&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    methods:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = &#x27;zhang-san&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      showTel(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        alert(this.tel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-数据来源">1. <strong>数据来源</strong><a href="#1-数据来源" class="hash-link" aria-label="Direct link to 1-数据来源" title="Direct link to 1-数据来源">​</a></h3>
<ul>
<li>✅ <strong><code>&lt;script&gt;</code> 是数据和交互逻辑的核心</strong>
数据（如 <code>name</code>、<code>age</code>）和方法（如 <code>changeName</code>）都定义在 <code>&lt;script&gt;</code> 中，通过 <code>data()</code> 函数或 <code>methods</code> 对象暴露给模板（<code>&lt;template&gt;</code>）。</li>
<li>🚫 <strong><code>&lt;template&gt;</code> 只负责展示数据</strong>
它本身不存储数据，而是通过 <code>{{ }}</code> 或指令（如 <code>v-bind</code>）从 <code>&lt;script&gt;</code> 中获取数据并渲染。vue的原则之一就是要让这个template模板中尽量简单</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-数据流动方向">2. <strong>数据流动方向</strong><a href="#2-数据流动方向" class="hash-link" aria-label="Direct link to 2-数据流动方向" title="Direct link to 2-数据流动方向">​</a></h3>
<p>数据从 <code>&lt;script&gt;</code> 流向 <code>&lt;template&gt;</code>，形成单向绑定：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  data() { return { name: &quot;张三&quot; } }  // 数据源</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h2&gt;{{ name }}&lt;/h2&gt;  &lt;!-- 数据展示 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-进阶补充">3. <strong>进阶补充</strong><a href="#3-进阶补充" class="hash-link" aria-label="Direct link to 3-进阶补充" title="Direct link to 3-进阶补充">​</a></h3>
<p>虽然数据主要来自 <code>&lt;script&gt;</code>，但实际开发中数据可能来自：</p>
<ul>
<li><strong>父组件传递</strong> ：通过 <code>props</code> 接收数据。</li>
<li><strong>全局状态管理</strong> ：如 Vuex/Pinia（复杂应用中）。</li>
<li><strong>异步请求</strong> ：通过 API 调用获取数据（如 <code>axios</code>）。</li>
</ul>
<p>但在你的示例中，数据确实完全由 <code>&lt;script&gt;</code> 的 <code>data()</code> 定义。</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h3>
<p>在基础组件中，数据确实从 <code>&lt;script&gt;</code> 的 <code>data()</code> 出发，驱动 <code>&lt;template&gt;</code> 的动态渲染，而 <code>&lt;style&gt;</code> 只负责样式。这种分离设计让代码更清晰易维护。</p>
<h1>三、vue3核心语法</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="31--optionsapi-与-compositionapi">3.1.  【OptionsAPI 与 CompositionAPI】<a href="#31--optionsapi-与-compositionapi" class="hash-link" aria-label="Direct link to 3.1.  【OptionsAPI 与 CompositionAPI】" title="Direct link to 3.1.  【OptionsAPI 与 CompositionAPI】">​</a></h2>
<ul>
<li><code>Vue2</code>的<code>API</code>设计是<code>Options</code>（配置）风格的。</li>
<li><code>Vue3</code>的<code>API</code>设计是<code>Composition</code>（组合）风格的。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="options-api-的弊端">Options API 的弊端<a href="#options-api-的弊端" class="hash-link" aria-label="Direct link to Options API 的弊端" title="Direct link to Options API 的弊端">​</a></h3>
<p><code>Options</code>类型的 <code>API</code>，数据、方法、计算属性等，是分散在：<code>data</code>、<code>methods</code>、<code>computed</code>中的，若想新增或者修改一个需求，就需要分别修改：<code>data</code>、<code>methods</code>、<code>computed</code>，不便于维护和复用。</p>
<p><img decoding="async" loading="lazy" alt="1696662197101-55d2b251-f6e5-47f4-b3f1-d8531bbf9279" src="/assets/images/1696662197101-55d2b251-f6e5-47f4-b3f1-d8531bbf9279-a525745756c1cc4c67b05fc0ee80eda9.gif" width="324" height="601" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="1696662200734-1bad8249-d7a2-423e-a3c3-ab4c110628be" src="/assets/images/1696662200734-1bad8249-d7a2-423e-a3c3-ab4c110628be-1744685257798-4-5f6f77b9ca523838f4b86789e272836f.gif" width="410" height="601" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="composition-api-的优势">Composition API 的优势<a href="#composition-api-的优势" class="hash-link" aria-label="Direct link to Composition API 的优势" title="Direct link to Composition API 的优势">​</a></h3>
<p>可以用函数的方式，更加优雅的组织代码，让相关功能的代码更加有序的组织在一起，也就是一个函数，包括的数据和计算所有的东西，集中在一起了</p>
<p><img decoding="async" loading="lazy" alt="1696662249851-db6403a1-acb5-481a-88e0-e1e34d2ef53a" src="/assets/images/1696662249851-db6403a1-acb5-481a-88e0-e1e34d2ef53a-dc08806389701afe6893fea316d6ba97.gif" width="592" height="502" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="1696662256560-7239b9f9-a770-43c1-9386-6cc12ef1e9c0" src="/assets/images/1696662256560-7239b9f9-a770-43c1-9386-6cc12ef1e9c0-4899dfcc3698d7bbed6b36114aadd770.gif" width="689" height="561" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="32-拉开序幕的-setup">3.2. 【拉开序幕的 setup】<a href="#32-拉开序幕的-setup" class="hash-link" aria-label="Direct link to 3.2. 【拉开序幕的 setup】" title="Direct link to 3.2. 【拉开序幕的 setup】">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-概述">setup 概述<a href="#setup-概述" class="hash-link" aria-label="Direct link to setup 概述" title="Direct link to setup 概述">​</a></h3>
<p><code>setup</code>是<code>Vue3</code>中一个新的配置项，值是一个函数，它是 <code>Composition API</code> <strong>“表演的舞台</strong><em><strong>”</strong></em>，组件中所用到的：数据、方法、计算属性、监视......等等，均配置在<code>setup</code>中。</p>
<p>特点如下：</p>
<ul>
<li><code>setup</code>函数返回的对象中的内容，可直接在模板中使用。</li>
<li><code>setup</code>中访问<code>this</code>是<code>undefined</code>。</li>
<li><code>setup</code>函数会在<code>beforeCreate</code>之前调用，它是“领先”所有钩子执行的。</li>
</ul>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{name}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{age}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;年龄+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;showTel&quot;&gt;点我查看联系方式&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;Person&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setup(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // 数据，原来写在data中（注意：此时的name、age、tel数据都不是响应式数据）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      let name = &#x27;张三&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      let age = 18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      let tel = &#x27;13888888888&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // 方法，原来写在methods中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name = &#x27;zhang-san&#x27; //注意：此时这么修改name页面是不变化的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        age += 1 //注意：此时这么修改age页面是不变化的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        console.log(age)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      function showTel(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        alert(tel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // 返回一个对象，对象中的内容，模板中可以直接使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return {name,age,tel,changeName,changeAge,showTel}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-的返回值">setup 的返回值<a href="#setup-的返回值" class="hash-link" aria-label="Direct link to setup 的返回值" title="Direct link to setup 的返回值">​</a></h3>
<ul>
<li>若返回一个<strong>对象</strong>：则对象中的：属性、方法等，在模板中均可以直接使用**（重点关注）。**</li>
<li>若返回一个<strong>函数</strong>：则可以自定义渲染内容，代码如下：</li>
</ul>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;你好啊！&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-与-options-api-的关系">setup 与 Options API 的关系<a href="#setup-与-options-api-的关系" class="hash-link" aria-label="Direct link to setup 与 Options API 的关系" title="Direct link to setup 与 Options API 的关系">​</a></h3>
<ul>
<li><code>Vue2</code> 的配置（<code>data</code>、<code>methos</code>......）中<strong>可以访问到</strong> <code>setup</code>中的属性、方法。</li>
<li>但在<code>setup</code>中<strong>不能访问到</strong><code>Vue2</code>的配置（<code>data</code>、<code>methos</code>......）。</li>
<li>如果与<code>Vue2</code>冲突，则<code>setup</code>优先。</li>
</ul>
<blockquote>
<p>也就是说，data、methods、setup这些都是可以同时存在的，但建议只写setup</p>
</blockquote>
<blockquote>
<p>setup可以从data和method读取数据和方法，但是反过来就不行</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-语法糖">setup 语法糖<a href="#setup-语法糖" class="hash-link" aria-label="Direct link to setup 语法糖" title="Direct link to setup 语法糖">​</a></h3>
<blockquote>
<p>为什么要语法糖？因为再传统的写法中setup要卸载export中，并且要及时更新return的内容，很麻烦</p>
</blockquote>
<p><code>setup</code>函数有一个语法糖，这个语法糖，可以让我们把<code>setup</code>独立出去，并且可以自动return，代码如下：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{name}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{age}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changAge&quot;&gt;年龄+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;showTel&quot;&gt;点我查看联系方式&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  export default {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;Person&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 下面的写法是setup语法糖 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(this) //undefined</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据（注意：此时的name、age、tel都不是响应式数据）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let name = &#x27;张三&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let age = 18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let tel = &#x27;13888888888&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name = &#x27;李四&#x27;//注意：此时这么修改name页面是不变化的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(age)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age += 1 //注意：此时这么修改age页面是不变化的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function showTel(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alert(tel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>扩展：上述代码，还需要编写一个不写<code>setup</code>的<code>script</code>标签，去指定组件名字，比较麻烦，我们可以借助<code>vite</code>中的插件简化</p>
<ol>
<li>第一步：<code>npm i vite-plugin-vue-setup-extend -D</code></li>
<li>第二步：<code>vite.config.ts</code></li>
</ol>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> defineConfig </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">VueSetupExtend</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vite-plugin-vue-setup-extend&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">VueSetupExtend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>第三步：<code>&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</code></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="33-ref-创建基本类型的响应式数据">3.3. 【ref 创建：基本类型的响应式数据】<a href="#33-ref-创建基本类型的响应式数据" class="hash-link" aria-label="Direct link to 3.3. 【ref 创建：基本类型的响应式数据】" title="Direct link to 3.3. 【ref 创建：基本类型的响应式数据】">​</a></h2>
<ul>
<li>**作用：**定义响应式变量。</li>
<li><strong>语法：</strong><code>let xxx = ref(初始值)</code>。</li>
<li>**返回值：**一个<code>RefImpl</code>的实例对象，简称<code>ref对象</code>或<code>ref</code>，<code>ref</code>对象的<code>value</code><strong>属性是响应式的</strong>。</li>
<li><strong>注意点：</strong>
<ul>
<li><strong><code>JS</code>中操作数据需要：<code>xxx.value</code></strong>，但模板中不需要<code>.value</code>，直接使用即可。</li>
<li>对于<code>let name = ref(&#x27;张三&#x27;)</code>来说，<code>name</code>不是响应式的，<code>name.value</code>是响应式的。</li>
</ul>
</li>
</ul>
<blockquote>
<p>需要什么数据是响应式的，就在这个数据前面加上ref就可以了，注意，ref只是针对基本数据类型的，对象的话用reactive</p>
</blockquote>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{name}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{age}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;年龄+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;showTel&quot;&gt;点我查看联系方式&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // name和age是一个RefImpl的实例对象，简称ref对象，它们的value属性是响应式的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let name = ref(&#x27;张三&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let age = ref(18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // tel就是一个普通的字符串，不是响应式的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let tel = &#x27;13888888888&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // JS中操作ref对象时候需要.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name.value = &#x27;李四&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(name.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 注意：name不是响应式的，name.value是响应式的，所以如下代码并不会引起页面的更新。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // name = ref(&#x27;zhang-san&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // JS中操作ref对象时候需要.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age.value += 1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(age.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function showTel(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alert(tel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="34-reactive-创建对象类型的响应式数据">3.4. 【reactive 创建：对象类型的响应式数据】<a href="#34-reactive-创建对象类型的响应式数据" class="hash-link" aria-label="Direct link to 3.4. 【reactive 创建：对象类型的响应式数据】" title="Direct link to 3.4. 【reactive 创建：对象类型的响应式数据】">​</a></h2>
<ul>
<li><strong>作用：<strong>定义一个</strong>响应式对象</strong>（基本类型不要用它，要用<code>ref</code>，否则报错）</li>
<li><strong>语法：</strong><code>let 响应式对象= reactive(源对象)</code>。</li>
<li>**返回值：**一个<code>Proxy</code>的实例对象，简称：响应式对象。</li>
<li><strong>注意点：</strong><code>reactive</code>定义的响应式数据是“深层次”的。</li>
</ul>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;汽车信息：一台{{ car.brand }}汽车，价值{{ car.price }}万&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;游戏列表：&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //:key其实就是v-bind:key的缩写，这个和vue有关</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;{{ g.name }}&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;测试：{{obj.a.b.c.d}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeCarPrice&quot;&gt;修改汽车价格&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeFirstGame&quot;&gt;修改第一游戏&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;test&quot;&gt;测试&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { reactive } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let car = reactive({ brand: &#x27;奔驰&#x27;, price: 100 })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let games = reactive([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { id: &#x27;ahsgdyfa01&#x27;, name: &#x27;英雄联盟&#x27; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { id: &#x27;ahsgdyfa02&#x27;, name: &#x27;王者荣耀&#x27; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { id: &#x27;ahsgdyfa03&#x27;, name: &#x27;原神&#x27; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let obj = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  a:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        d:666</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function changeCarPrice() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  car.price += 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function changeFirstGame() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  games[0].name = &#x27;流星蝴蝶剑&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function test(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  obj.a.b.c.d = 999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="35-ref-创建对象类型的响应式数据">3.5. 【ref 创建：对象类型的响应式数据】<a href="#35-ref-创建对象类型的响应式数据" class="hash-link" aria-label="Direct link to 3.5. 【ref 创建：对象类型的响应式数据】" title="Direct link to 3.5. 【ref 创建：对象类型的响应式数据】">​</a></h2>
<ul>
<li>其实<code>ref</code>接收的数据可以是：<strong>基本类型</strong>、<strong>对象类型</strong>。</li>
<li>若<code>ref</code>接收的是对象类型，内部其实也是调用了<code>reactive</code>函数。</li>
</ul>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;汽车信息：一台{{ car.brand }}汽车，价值{{ car.price }}万&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;游戏列表：&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;{{ g.name }}&lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;测试：{{obj.a.b.c.d}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeCarPrice&quot;&gt;修改汽车价格&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeFirstGame&quot;&gt;修改第一游戏&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;test&quot;&gt;测试&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { ref } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let car = ref({ brand: &#x27;奔驰&#x27;, price: 100 })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let games = ref([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { id: &#x27;ahsgdyfa01&#x27;, name: &#x27;英雄联盟&#x27; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { id: &#x27;ahsgdyfa02&#x27;, name: &#x27;王者荣耀&#x27; },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  { id: &#x27;ahsgdyfa03&#x27;, name: &#x27;原神&#x27; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let obj = ref({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  a:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        d:666</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(car)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function changeCarPrice() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  car.value.price += 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function changeFirstGame() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  games.value[0].name = &#x27;流星蝴蝶剑&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function test(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  obj.value.a.b.c.d = 999</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>ref包裹对象修改的时候，要加上.value，而reactive包裹的对象修改的时候不需要加上.value</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="36-ref-对比-reactive">3.6. 【ref 对比 reactive】<a href="#36-ref-对比-reactive" class="hash-link" aria-label="Direct link to 3.6. 【ref 对比 reactive】" title="Direct link to 3.6. 【ref 对比 reactive】">​</a></h2>
<p>宏观角度看：</p>
<blockquote>
<ol>
<li>
<p><code>ref</code>用来定义：<strong>基本类型数据</strong>、<strong>对象类型数据</strong>；</p>
</li>
<li>
<p><code>reactive</code>用来定义：<strong>对象类型数据</strong>。</p>
</li>
</ol>
</blockquote>
<ul>
<li>区别：</li>
</ul>
<blockquote>
<ol>
<li>
<p><code>ref</code>创建的变量必须使用<code>.value</code>（可以使用<code>volar</code>插件自动添加<code>.value</code>）。</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="597" height="123" class="img_ev3q"></p>
</li>
<li>
<p><code>reactive</code>重新分配一个新对象，会<strong>失去</strong>响应式（可以使用<code>Object.assign</code>去整体替换）。ref但是可以</p>
</li>
</ol>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">changeCar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// car = {brand: &#x27;奥拓&#x27;, price: 1} // 这么写页面不更新的，ref这么写可以</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// car = reactive({brand: &#x27;奥拓&#x27;, price: 1}) // 这么写页面不更新的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 下面这个写法页面可以更新，这个就是reactive的弊端，不可以整体修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token known-class-name class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">car</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">brand</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;奥拓&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>使用原则：</li>
</ul>
<blockquote>
<ol>
<li>若需要一个基本类型的响应式数据，必须使用<code>ref</code>。</li>
<li>若需要一个响应式对象，层级不深，<code>ref</code>、<code>reactive</code>都可以。</li>
<li>若需要一个响应式对象，且层级较深，推荐使用<code>reactive</code>。</li>
</ol>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="37-torefs-与-toref">3.7. 【toRefs 与 toRef】<a href="#37-torefs-与-toref" class="hash-link" aria-label="Direct link to 3.7. 【toRefs 与 toRef】" title="Direct link to 3.7. 【toRefs 与 toRef】">​</a></h2>
<ul>
<li>作用：将一个响应式对象中的每一个属性，转换为<code>ref</code>对象。</li>
<li>备注：<code>toRefs</code>与<code>toRef</code>功能一致，但<code>toRefs</code>可以批量转换。</li>
<li>语法如下：</li>
</ul>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{person.name}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{person.age}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;性别：{{person.gender}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeGender&quot;&gt;修改性别&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,reactive,toRefs,toRef} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({name:&#x27;张三&#x27;, age:18, gender:&#x27;男&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 通过toRefs将person对象中的n个属性批量取出，且依然保持响应式的能力</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let {name,gender} =  toRefs(person)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 通过toRef将person对象中的gender属性取出，且依然保持响应式的能力</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let age = toRef(person,&#x27;age&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name.value += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeGender(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gender.value = &#x27;女&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="38-computed">3.8. 【computed】<a href="#38-computed" class="hash-link" aria-label="Direct link to 3.8. 【computed】" title="Direct link to 3.8. 【computed】">​</a></h2>
<p>作用：根据已有数据计算出新数据（和<code>Vue2</code>中的<code>computed</code>作用一致）。</p>
<p><img decoding="async" loading="lazy" src="/assets/images/computed-50af8e71e47726139520abd7d97a6b31.gif" width="1393" height="483" class="img_ev3q"></p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    名：&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    全名：&lt;span&gt;{{fullName}}&lt;/span&gt; &lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeFullName&quot;&gt;全名改为：li-si&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,computed} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let firstName = ref(&#x27;zhang&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let lastName = ref(&#x27;san&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 计算属性——只读取，不修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* let fullName = computed(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return firstName.value + &#x27;-&#x27; + lastName.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }) */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 计算属性——既读取又修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let fullName = computed({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 读取</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    get(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return firstName.value + &#x27;-&#x27; + lastName.value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    set(val){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;有人修改了fullName&#x27;,val)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstName.value = val.split(&#x27;-&#x27;)[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastName.value = val.split(&#x27;-&#x27;)[1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeFullName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fullName.value = &#x27;li-si&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="39watch">3.9.【watch】<a href="#39watch" class="hash-link" aria-label="Direct link to 3.9.【watch】" title="Direct link to 3.9.【watch】">​</a></h2>
<blockquote>
<p>这里有五种情况，第一种和第四种用的比较多</p>
</blockquote>
<ul>
<li>作用：监视数据的变化（和<code>Vue2</code>中的<code>watch</code>作用一致）</li>
<li>特点：<code>Vue3</code>中的<code>watch</code>只能监视以下<strong>四种数据</strong>：</li>
</ul>
<blockquote>
<ol>
<li><code>ref</code>定义的数据。</li>
<li><code>reactive</code>定义的数据。</li>
<li>函数返回一个值（<code>getter</code>函数）。</li>
<li>一个包含上述内容的数组。</li>
</ol>
</blockquote>
<p>我们在<code>Vue3</code>中使用<code>watch</code>的时候，通常会遇到以下几种情况：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-情况一">* 情况一<a href="#-情况一" class="hash-link" aria-label="Direct link to * 情况一" title="Direct link to * 情况一">​</a></h3>
<p>监视<code>ref</code>定义的【基本类型】数据：直接写数据名即可，监视的是其<code>value</code>值的改变。</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况一：监视【ref】定义的【基本类型】数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;当前求和为：{{sum}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeSum&quot;&gt;点我sum+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let sum = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeSum(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况一：监视【ref】定义的【基本类型】数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const stopWatch = watch(sum,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;sum变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(newValue &gt;= 10){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      stopWatch()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-情况二">* 情况二<a href="#-情况二" class="hash-link" aria-label="Direct link to * 情况二" title="Direct link to * 情况二">​</a></h3>
<p>监视<code>ref</code>定义的【对象类型】数据：直接写数据名，监视的是对象的【地址值】，若想监视对象内部的数据，要手动开启深度监视。</p>
<blockquote>
<p>注意：</p>
<ul>
<li>
<p>若修改的是<code>ref</code>定义的对象中的属性，<code>newValue</code> 和 <code>oldValue</code> 都是新值，因为它们是同一个对象。</p>
</li>
<li>
<p>若修改整个<code>ref</code>定义的对象，<code>newValue</code> 是新值， <code>oldValue</code> 是旧值，因为不是同一个对象了。</p>
</li>
</ul>
</blockquote>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况二：监视【ref】定义的【对象类型】数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changePerson&quot;&gt;修改整个人&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = ref({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.value.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.value.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changePerson(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.value = {name:&#x27;李四&#x27;,age:90}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    监视，情况一：监视【ref】定义的【对象类型】数据，监视的是对象的地址值，若想监视对象内部属性的变化，需要手动开启深度监视</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watch的第一个参数是：被监视的数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watch的第二个参数是：监视的回调</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watch的第三个参数是：配置对象（deep、immediate等等.....） </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(person,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },{deep:true})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="--情况三">*  情况三<a href="#--情况三" class="hash-link" aria-label="Direct link to *  情况三" title="Direct link to *  情况三">​</a></h3>
<p>监视<code>reactive</code>定义的【对象类型】数据，且<strong>默认开启了深度监视，且无法关闭</strong>。</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况三：监视【reactive】定义的【对象类型】数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changePerson&quot;&gt;修改整个人&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;hr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;测试：{{obj.a.b.c}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;test&quot;&gt;修改obj.a.b.c&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {reactive,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let obj = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      b:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        c:666</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changePerson(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Object.assign(person,{name:&#x27;李四&#x27;,age:80})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function test(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    obj.a.b.c = 888</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况三：监视【reactive】定义的【对象类型】数据，且默认是开启深度监视的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(person,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(obj,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;Obj变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-情况四">* 情况四<a href="#-情况四" class="hash-link" aria-label="Direct link to * 情况四" title="Direct link to * 情况四">​</a></h3>
<p>监视<code>ref</code>或<code>reactive</code>定义的【对象类型】数据中的<strong>某个属性</strong>，注意点如下：</p>
<ol>
<li>若该属性值<strong>不是</strong>【对象类型】，需要写成函数形式。</li>
<li>若该属性值是<strong>依然</strong>是【对象类型】，可直接编，也可写成函数，建议写成函数。</li>
</ol>
<p>结论：监视的要是对象里的属性，那么最好写函数式，注意点：若是对象监视的是地址值，需要关注对象内部，需要手动开启深度监视。</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况四：监视【ref】或【reactive】定义的【对象类型】数据中的某个属性&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;汽车：{{ person.car.c1 }}、{{ person.car.c2 }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC1&quot;&gt;修改第一台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC2&quot;&gt;修改第二台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeCar&quot;&gt;修改整个车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {reactive,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    car:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c1:&#x27;奔驰&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c2:&#x27;宝马&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC1(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c1 = &#x27;奥迪&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC2(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c2 = &#x27;大众&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeCar(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car = {c1:&#x27;雅迪&#x27;,c2:&#x27;爱玛&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况四：监视响应式对象中的某个属性，且该属性是基本类型的，要写成函数式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* watch(()=&gt; person.name,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person.name变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }) */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况四：监视响应式对象中的某个属性，且该属性是对象类型的，可以直接写，也能写函数，更推荐写函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch(()=&gt;person.car,(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person.car变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },{deep:true})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-情况五">* 情况五<a href="#-情况五" class="hash-link" aria-label="Direct link to * 情况五" title="Direct link to * 情况五">​</a></h3>
<p>监视上述的多个数据</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;情况五：监视上述的多个数据&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;姓名：{{ person.name }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;年龄：{{ person.age }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;汽车：{{ person.car.c1 }}、{{ person.car.c2 }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeName&quot;&gt;修改名字&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeAge&quot;&gt;修改年龄&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC1&quot;&gt;修改第一台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeC2&quot;&gt;修改第二台车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeCar&quot;&gt;修改整个车&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {reactive,watch} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let person = reactive({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;张三&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    age:18,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    car:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c1:&#x27;奔驰&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      c2:&#x27;宝马&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeName(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.name += &#x27;~&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeAge(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.age += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC1(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c1 = &#x27;奥迪&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeC2(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car.c2 = &#x27;大众&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeCar(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    person.car = {c1:&#x27;雅迪&#x27;,c2:&#x27;爱玛&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 监视，情况五：监视上述的多个数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch([()=&gt;person.name,person.car],(newValue,oldValue)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;person.car变化了&#x27;,newValue,oldValue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },{deep:true})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="310-watcheffect">3.10. 【watchEffect】<a href="#310-watcheffect" class="hash-link" aria-label="Direct link to 3.10. 【watchEffect】" title="Direct link to 3.10. 【watchEffect】">​</a></h2>
<ul>
<li>
<p>官网：立即运行一个函数，同时响应式地追踪其依赖，并在依赖更改时重新执行该函数。</p>
</li>
<li>
<p><code>watch</code>对比<code>watchEffect</code></p>
<blockquote>
<ol>
<li>
<p>都能监听响应式数据的变化，不同的是监听数据变化的方式不同</p>
</li>
<li>
<p><code>watch</code>：要明确指出监视的数据</p>
</li>
<li>
<p><code>watchEffect</code>：不用明确指出监视的数据（函数中用到哪些属性，那就监视哪些属性）。</p>
</li>
</ol>
</blockquote>
</li>
<li>
<p>示例代码：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1&gt;需求：水温达到50℃，或水位达到20cm，则联系服务器&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2 id=&quot;demo&quot;&gt;水温：{{temp}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;水位：{{height}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changePrice&quot;&gt;水温+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeSum&quot;&gt;水位+10&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,watch,watchEffect} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let temp = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let height = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changePrice(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    temp.value += 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeSum(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 用watch实现，需要明确的指出要监视：temp、height</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  watch([temp,height],(value)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 从value中获取最新的temp值、height值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const [newTemp,newHeight] = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 室温达到50℃，或水位达到20cm，立刻联系服务器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(newTemp &gt;= 50 || newHeight &gt;= 20){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;联系服务器&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 用watchEffect实现，不用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const stopWtach = watchEffect(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 室温达到50℃，或水位达到20cm，立刻联系服务器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(temp.value &gt;= 50 || height.value &gt;= 20){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(document.getElementById(&#x27;demo&#x27;)?.innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;联系服务器&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 水温达到100，或水位达到50，取消监视</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(temp.value === 100 || height.value === 50){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      console.log(&#x27;清理了&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      stopWtach()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="311-标签的-ref-属性">3.11 【标签的 ref 属性】<a href="#311-标签的-ref-属性" class="hash-link" aria-label="Direct link to 3.11 【标签的 ref 属性】" title="Direct link to 3.11 【标签的 ref 属性】">​</a></h2>
<p>作用：用于注册模板引用。</p>
<blockquote>
<ul>
<li>
<p>用在普通<code>DOM</code>标签上，获取的是<code>DOM</code>节点。</p>
</li>
<li>
<p>用在组件标签上，获取的是组件实例对象。</p>
</li>
</ul>
</blockquote>
<p>用在普通<code>DOM</code>标签上：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h1 ref=&quot;title1&quot;&gt;尚硅谷&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2 ref=&quot;title2&quot;&gt;前端&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h3 ref=&quot;title3&quot;&gt;Vue&lt;/h3&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;input type=&quot;text&quot; ref=&quot;inpt&quot;&gt; &lt;br&gt;&lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;showLog&quot;&gt;点我打印内容&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let title1 = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let title2 = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let title3 = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function showLog(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 通过id获取元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const t1 = document.getElementById(&#x27;title1&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 打印内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log((t1 as HTMLElement).innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log((&lt;HTMLElement&gt;t1).innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(t1?.innerText)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		/************************************/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 通过ref获取元素</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(title1.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(title2.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(title3.value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>用在组件标签上：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 父组件App.vue --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;Person ref=&quot;ren&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;test&quot;&gt;测试&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import Person from &#x27;./components/Person.vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let ren = ref()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function test(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(ren.value.name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(ren.value.age)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 子组件Person.vue中要使用defineExpose暴露内容 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {ref,defineExpose} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	// 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let name = ref(&#x27;张三&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let age = ref(18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /****************************/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /****************************/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 使用defineExpose将组件中的数据交给外部</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  defineExpose({name,age})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>总结</strong></p>
<p>就是给html分配唯一id不要用<code>class=&quot;title1&quot;</code>这种，否则会冲突，最好用<code>ref=&quot;title&quot;</code>，这样可以解决冲突的问题，不同的vue文件中可以有相同热<code>ref</code>，有点局部变量的意思</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="312-props">3.12. 【props】<a href="#312-props" class="hash-link" aria-label="Direct link to 3.12. 【props】" title="Direct link to 3.12. 【props】">​</a></h2>
<blockquote>
<p>这个本质是组件用来接收外部变量的</p>
</blockquote>
<blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 定义一个接口，限制每个Person对象的格式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">PersonInter</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 定义一个自定义类型Persons</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> type </span><span class="token maybe-class-name">Persons</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">PersonInter</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>App.vue</code>中代码：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&lt;Person :list=&quot;persons&quot;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Person from &#x27;./components/Person.vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import {reactive} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> import {type Persons} from &#x27;./types&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> let persons = reactive&lt;Persons&gt;([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {id:&#x27;e98219e12&#x27;,name:&#x27;张三&#x27;,age:18},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   {id:&#x27;e98219e13&#x27;,name:&#x27;李四&#x27;,age:19},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {id:&#x27;e98219e14&#x27;,name:&#x27;王五&#x27;,age:20}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>Person.vue</code>中代码：</p>
<div class="language-Vue language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     {{item.name}}--{{item.age}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &lt;/li&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;/ul&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import {defineProps} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import {type PersonInter} from &#x27;@/types&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 第一种写法：仅接收</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// const props = defineProps([&#x27;list&#x27;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 第二种写法：接收+限制类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// defineProps&lt;{list:Persons}&gt;()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 第三种写法：接收+限制类型+指定默认值+限制必要性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let props = withDefaults(defineProps&lt;{list?:Persons}&gt;(),{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  list:()=&gt;[{id:&#x27;asdasg01&#x27;,name:&#x27;小猪佩奇&#x27;,age:18}]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(props)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="313-生命周期">3.13. 【生命周期】<a href="#313-生命周期" class="hash-link" aria-label="Direct link to 3.13. 【生命周期】" title="Direct link to 3.13. 【生命周期】">​</a></h2>
<ul>
<li>
<p>概念：<code>Vue</code>组件实例在创建时要经历一系列的初始化步骤，在此过程中<code>Vue</code>会在合适的时机，调用特定的函数，从而让开发者有机会在特定阶段运行自己的代码，这些特定的函数统称为：生命周期钩子</p>
</li>
<li>
<p>规律：</p>
<blockquote>
<p>生命周期整体分为四个阶段，分别是：<strong>创建、挂载、更新、销毁</strong>，每个阶段都有两个钩子，一前一后。</p>
</blockquote>
</li>
<li>
<p><code>Vue2</code>的生命周期</p>
<blockquote>
<p>创建阶段：<code>beforeCreate</code>、<code>created</code></p>
<p>挂载阶段：<code>beforeMount</code>、<code>mounted</code></p>
<p>更新阶段：<code>beforeUpdate</code>、<code>updated</code></p>
<p>销毁阶段：<code>beforeDestroy</code>、<code>destroyed</code></p>
</blockquote>
</li>
<li>
<p><code>Vue3</code>的生命周期</p>
<blockquote>
<p>创建阶段：<code>setup</code></p>
<p>挂载阶段：<code>onBeforeMount</code>、<code>onMounted</code></p>
<p>更新阶段：<code>onBeforeUpdate</code>、<code>onUpdated</code></p>
<p>卸载阶段：<code>onBeforeUnmount</code>、<code>onUnmounted</code></p>
</blockquote>
</li>
<li>
<p>常用的钩子：<code>onMounted</code>(挂载完毕)、<code>onUpdated</code>(更新完毕)、<code>onBeforeUnmount</code>(卸载之前)</p>
</li>
<li>
<p>示例代码：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div class=&quot;person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;h2&gt;当前求和为：{{ sum }}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;button @click=&quot;changeSum&quot;&gt;点我sum+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- vue3写法 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ref, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onBeforeMount, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onMounted, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onBeforeUpdate, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onUpdated, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onBeforeUnmount, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    onUnmounted </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let sum = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  function changeSum() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum.value += 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  console.log(&#x27;setup&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 生命周期钩子</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeMount(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;挂载之前&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onMounted(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;挂载完毕&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeUpdate(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;更新之前&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onUpdated(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;更新完毕&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onBeforeUnmount(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;卸载之前&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onUnmounted(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(&#x27;卸载完毕&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="314-自定义hook">3.14. 【自定义hook】<a href="#314-自定义hook" class="hash-link" aria-label="Direct link to 3.14. 【自定义hook】" title="Direct link to 3.14. 【自定义hook】">​</a></h2>
<ul>
<li>
<p>什么是<code>hook</code>？—— 本质是一个函数，把<code>setup</code>函数中使用的<code>Composition API</code>进行了封装，类似于<code>vue2.x</code>中的<code>mixin</code>。</p>
</li>
<li>
<p>自定义<code>hook</code>的优势：复用代码, 让<code>setup</code>中的逻辑更清楚易懂。</p>
</li>
</ul>
<p>示例代码：</p>
<ul>
<li>
<p><code>useSum.ts</code>中内容如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">ref</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports">onMounted</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">increment</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">decrement</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sum</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">onMounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">increment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//向外部暴露数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">sum</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">increment</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">decrement</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">		</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><code>useDog.ts</code>中内容如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">reactive</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports">onMounted</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vue&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token known-class-name class-name">AxiosError</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> dogList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> reactive</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">string</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 方法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getDog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 发请求</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;https://dog.ceo/api/breed/pembroke/images/random&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 维护数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dogList</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 处理错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token known-class-name class-name">AxiosError</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 挂载钩子</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">onMounted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">getDog</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//向外部暴露数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dogList</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">getDog</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>组件中具体使用：</p>
<div class="language-vue codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-vue codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h2&gt;当前求和为：{{sum}}&lt;/h2&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;increment&quot;&gt;点我+1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;decrement&quot;&gt;点我-1&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;hr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;img v-for=&quot;(u,index) in dogList.urlList&quot; :key=&quot;index&quot; :src=&quot;(u as string)&quot;&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;span v-show=&quot;dogList.isLoading&quot;&gt;加载中......&lt;/span&gt;&lt;br&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;button @click=&quot;getDog&quot;&gt;再来一只狗&lt;/button&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import {defineComponent} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  export default defineComponent({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:&#x27;App&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script setup lang=&quot;ts&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import useSum from &#x27;./hooks/useSum&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import useDog from &#x27;./hooks/useDog&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let {sum,increment,decrement} = useSum()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let {dogList,getDog} = useDog()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h1>Q&amp;A</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-单向绑定和双向绑定">1. 单向绑定和双向绑定<a href="#1-单向绑定和双向绑定" class="hash-link" aria-label="Direct link to 1. 单向绑定和双向绑定" title="Direct link to 1. 单向绑定和双向绑定">​</a></h2>
<table><thead><tr><th>特性</th><th>单向绑定</th><th>双向绑定</th></tr></thead><tbody><tr><td><strong>数据流向</strong></td><td>Script → Template</td><td>Script ↔ Template</td></tr><tr><td><strong>典型场景</strong></td><td>数据展示（如文本/数字）</td><td>表单输入（input/textarea）</td></tr><tr><td><strong>Vue实现方式</strong></td><td><code>{{ }}</code>或<code>:value</code></td><td><code>v-model</code></td></tr><tr><td><strong>数据更新方式</strong></td><td>需手动调用方法修改数据</td><td>自动同步数据</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-响应式和非响应式">2. 响应式和非响应式<a href="#2-响应式和非响应式" class="hash-link" aria-label="Direct link to 2. 响应式和非响应式" title="Direct link to 2. 响应式和非响应式">​</a></h2>
<table><thead><tr><th><strong>特性</strong></th><th><strong>非响应式数据</strong></th><th><strong>响应式数据</strong></th></tr></thead><tbody><tr><td><strong>声明方式</strong></td><td>普通变量 <code>let name = &#x27;张三&#x27;</code></td><td>使用 <code>ref()</code>/<code>reactive()</code> 包裹</td></tr><tr><td><strong>修改方式</strong></td><td>直接赋值 <code>name = &#x27;new&#x27;</code></td><td>需通过 <code>.value</code>（<code>ref</code>）或直接赋值（<code>reactive</code>）</td></tr><tr><td><strong>视图更新</strong></td><td>❌ 不自动更新</td><td>✅ 自动触发视图更新</td></tr><tr><td><strong>Vue追踪能力</strong></td><td>无法追踪数据变化</td><td>自动追踪读写操作（Proxy/Object.defineProperty）</td></tr><tr><td><strong>适用场景</strong></td><td>临时变量/无需更新的数据</td><td>需要驱动视图更新的状态数据</td></tr><tr><td><strong>数据类型支持</strong></td><td>任意类型</td><td><code>ref</code>：基本类型<br><code>reactive</code>：引用类型</td></tr><tr><td><strong>模板使用</strong></td><td>直接使用但无响应性</td><td>自动解包（无需写<code>.value</code>）</td></tr><tr><td><strong>示例代码</strong></td><td><code>let age = 18</code><br><code>age = 20</code></td><td><code>const age = ref(18)</code><br><code>age.value = 20</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="附加说明">附加说明<a href="#附加说明" class="hash-link" aria-label="Direct link to 附加说明" title="Direct link to 附加说明">​</a></h3>
<ol>
<li>
<p><strong>Vue2 vs Vue3</strong></p>
<ul>
<li>Vue2：使用 <code>Object.defineProperty</code> 实现响应式（不支持数组/对象属性动态添加）</li>
<li>Vue3：使用 <code>Proxy</code> 实现更完善的响应式系统</li>
</ul>
</li>
<li>
<p><strong>响应式API选择</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 基本类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 引用类型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reactive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;张三&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3const-和-let的区别">3.const 和 let的区别<a href="#3const-和-let的区别" class="hash-link" aria-label="Direct link to 3.const 和 let的区别" title="Direct link to 3.const 和 let的区别">​</a></h2>
<table><thead><tr><th><strong>对比维度</strong></th><th><strong>let</strong></th><th><strong>const</strong></th></tr></thead><tbody><tr><td><strong>变量类型</strong></td><td>可变变量（Mutable）</td><td>不可变常量（Immutable）</td></tr><tr><td><strong>重新赋值</strong></td><td>允许修改值 (<code>let x = 1; x = 2;</code>)</td><td>禁止重新赋值 (<code>const x = 1; x = 2; // 报错</code>)</td></tr><tr><td><strong>作用域</strong></td><td>块级作用域</td><td>块级作用域</td></tr><tr><td><strong>TypeScript类型推断</strong></td><td>类型可变（通过重新赋值改变类型）</td><td>类型不可变（声明时确定）</td></tr><tr><td><strong>内存地址</strong></td><td>可指向新内存地址</td><td>必须指向初始内存地址（引用类型不可变）</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vue3响应式场景对比"><strong>Vue3响应式场景对比</strong><a href="#vue3响应式场景对比" class="hash-link" aria-label="Direct link to vue3响应式场景对比" title="Direct link to vue3响应式场景对比">​</a></h3>
<table><thead><tr><th><strong>场景</strong></th><th><strong>let</strong></th><th><strong>const</strong></th></tr></thead><tbody><tr><td><strong>非响应式数据</strong></td><td>可修改值，但视图不更新</td><td>无法修改值（报错）</td></tr><tr><td><strong>ref响应式数据</strong></td><td>❌ 不推荐（可能覆盖响应式对象）</td><td>✅ 必须使用（保护响应式对象引用）</td></tr><tr><td><strong>reactive响应式数据</strong></td><td>❌ 不推荐（可能覆盖响应式对象）</td><td>✅ 必须使用（保护响应式对象引用）</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="最佳实践"><strong>最佳实践</strong><a href="#最佳实践" class="hash-link" aria-label="Direct link to 最佳实践" title="Direct link to 最佳实践">​</a></h3>
<table><thead><tr><th><strong>使用场景</strong></th><th><strong>推荐写法</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>响应式数据（ref/reactive）</td><td><code>const count = ref(0)</code></td><td>防止意外覆盖响应式对象，保持视图同步</td></tr><tr><td>非响应式常量</td><td><code>const MAX = 100</code></td><td>固定值不可变（如配置、枚举）</td></tr><tr><td>临时可变变量</td><td><code>let temp = 0</code></td><td>需要手动修改的中间变量（如循环计数器）</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="陷阱示例"><strong>陷阱示例</strong><a href="#陷阱示例" class="hash-link" aria-label="Direct link to 陷阱示例" title="Direct link to 陷阱示例">​</a></h3>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ❌ 错误用法（覆盖响应式对象）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 视图断开连接，控制台报错</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ✅ 正确用法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 视图自动更新</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4wantchwatcheffect如何停止">4.wantch/watchEffect如何停止？<a href="#4wantchwatcheffect如何停止" class="hash-link" aria-label="Direct link to 4.wantch/watchEffect如何停止？" title="Direct link to 4.wantch/watchEffect如何停止？">​</a></h2>
<p>以下代码是一个watch代码，在 Vue3 中，无论是 <code>watch</code> 还是 <code>watchEffect</code>，它们都会返回一个 <strong>停止函数（stop function）</strong> ，调用这个函数即可主动停止监听，平常用不大停止函数，就不需要定义一个变量接受停止函数：<code>const stopWtach =</code></p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 用watchEffect实现，不用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> stopWtach </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">watchEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 室温达到50℃，或水位达到20cm，立刻联系服务器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> height</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;demo&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">?.</span><span class="token plain">innerText</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;联系服务器&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 水温达到100，或水位达到50，取消监视</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">temp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> height</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;清理了&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">stopWtach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>TODO</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1js箭头函数的特点了解下">1.js箭头函数的特点了解下<a href="#1js箭头函数的特点了解下" class="hash-link" aria-label="Direct link to 1.js箭头函数的特点了解下" title="Direct link to 1.js箭头函数的特点了解下">​</a></h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Cnjszzw/cnjszzw.github.io/tree/master/docs/defaultDoc/vue/vue3.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/defaultDoc/git"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Git</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/defaultDoc/计算机网络"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">计算机网络</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1整体结构" class="table-of-contents__link toc-highlight">1.整体结构</a></li><li><a href="#2indexhtml" class="table-of-contents__link toc-highlight">2.<code>index.html</code></a></li><li><a href="#3srcmainjs" class="table-of-contents__link toc-highlight">3.<code>src/main.js</code></a></li><li><a href="#4appvue" class="table-of-contents__link toc-highlight">4.App.vue</a><ul><li><a href="#1-数据来源" class="table-of-contents__link toc-highlight">1. <strong>数据来源</strong></a></li><li><a href="#2-数据流动方向" class="table-of-contents__link toc-highlight">2. <strong>数据流动方向</strong></a></li><li><a href="#3-进阶补充" class="table-of-contents__link toc-highlight">3. <strong>进阶补充</strong></a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#31--optionsapi-与-compositionapi" class="table-of-contents__link toc-highlight">3.1.  【OptionsAPI 与 CompositionAPI】</a><ul><li><a href="#options-api-的弊端" class="table-of-contents__link toc-highlight">Options API 的弊端</a></li><li><a href="#composition-api-的优势" class="table-of-contents__link toc-highlight">Composition API 的优势</a></li></ul></li><li><a href="#32-拉开序幕的-setup" class="table-of-contents__link toc-highlight">3.2. 【拉开序幕的 setup】</a><ul><li><a href="#setup-概述" class="table-of-contents__link toc-highlight">setup 概述</a></li><li><a href="#setup-的返回值" class="table-of-contents__link toc-highlight">setup 的返回值</a></li><li><a href="#setup-与-options-api-的关系" class="table-of-contents__link toc-highlight">setup 与 Options API 的关系</a></li><li><a href="#setup-语法糖" class="table-of-contents__link toc-highlight">setup 语法糖</a></li></ul></li><li><a href="#33-ref-创建基本类型的响应式数据" class="table-of-contents__link toc-highlight">3.3. 【ref 创建：基本类型的响应式数据】</a></li><li><a href="#34-reactive-创建对象类型的响应式数据" class="table-of-contents__link toc-highlight">3.4. 【reactive 创建：对象类型的响应式数据】</a></li><li><a href="#35-ref-创建对象类型的响应式数据" class="table-of-contents__link toc-highlight">3.5. 【ref 创建：对象类型的响应式数据】</a></li><li><a href="#36-ref-对比-reactive" class="table-of-contents__link toc-highlight">3.6. 【ref 对比 reactive】</a></li><li><a href="#37-torefs-与-toref" class="table-of-contents__link toc-highlight">3.7. 【toRefs 与 toRef】</a></li><li><a href="#38-computed" class="table-of-contents__link toc-highlight">3.8. 【computed】</a></li><li><a href="#39watch" class="table-of-contents__link toc-highlight">3.9.【watch】</a><ul><li><a href="#-情况一" class="table-of-contents__link toc-highlight">* 情况一</a></li><li><a href="#-情况二" class="table-of-contents__link toc-highlight">* 情况二</a></li><li><a href="#--情况三" class="table-of-contents__link toc-highlight">*  情况三</a></li><li><a href="#-情况四" class="table-of-contents__link toc-highlight">* 情况四</a></li><li><a href="#-情况五" class="table-of-contents__link toc-highlight">* 情况五</a></li></ul></li><li><a href="#310-watcheffect" class="table-of-contents__link toc-highlight">3.10. 【watchEffect】</a></li><li><a href="#311-标签的-ref-属性" class="table-of-contents__link toc-highlight">3.11 【标签的 ref 属性】</a></li><li><a href="#312-props" class="table-of-contents__link toc-highlight">3.12. 【props】</a></li><li><a href="#313-生命周期" class="table-of-contents__link toc-highlight">3.13. 【生命周期】</a></li><li><a href="#314-自定义hook" class="table-of-contents__link toc-highlight">3.14. 【自定义hook】</a></li><li><a href="#1-单向绑定和双向绑定" class="table-of-contents__link toc-highlight">1. 单向绑定和双向绑定</a></li><li><a href="#2-响应式和非响应式" class="table-of-contents__link toc-highlight">2. 响应式和非响应式</a><ul><li><a href="#附加说明" class="table-of-contents__link toc-highlight">附加说明</a></li></ul></li><li><a href="#3const-和-let的区别" class="table-of-contents__link toc-highlight">3.const 和 let的区别</a><ul><li><a href="#vue3响应式场景对比" class="table-of-contents__link toc-highlight"><strong>Vue3响应式场景对比</strong></a></li><li><a href="#最佳实践" class="table-of-contents__link toc-highlight"><strong>最佳实践</strong></a></li><li><a href="#陷阱示例" class="table-of-contents__link toc-highlight"><strong>陷阱示例</strong></a></li></ul></li><li><a href="#4wantchwatcheffect如何停止" class="table-of-contents__link toc-highlight">4.wantch/watchEffect如何停止？</a></li><li><a href="#1js箭头函数的特点了解下" class="table-of-contents__link toc-highlight">1.js箭头函数的特点了解下</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>