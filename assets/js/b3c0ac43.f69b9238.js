"use strict";(self.webpackChunkmydocusaurus=self.webpackChunkmydocusaurus||[]).push([[8604],{75710:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"articleDoc/companyDoc/wvb-server","title":"wvb-server","description":"\u4e00\u3001\u9879\u76ee\u7684\u914d\u7f6e\u3001\u542f\u52a8\u548c\u8c03\u8bd5","source":"@site/docs/articleDoc/companyDoc/wvb-server.md","sourceDirName":"articleDoc/companyDoc","slug":"/articleDoc/companyDoc/wvb-server","permalink":"/docs/articleDoc/companyDoc/wvb-server","draft":false,"unlisted":false,"editUrl":"https://github.com/Cnjszzw/cnjszzw.github.io/tree/master/docs/articleDoc/companyDoc/wvb-server.md","tags":[],"version":"current","frontMatter":{},"sidebar":"articleDoc","previous":{"title":"temp","permalink":"/docs/articleDoc/companyDoc/temp"},"next":{"title":"wvb-ui","permalink":"/docs/articleDoc/companyDoc/wvb-ui"}}');var t=r(74848),a=r(28453);const o={},i="wvb-server",c={},l=[{value:"\u4e00\u3001\u9879\u76ee\u7684\u914d\u7f6e\u3001\u542f\u52a8\u548c\u8c03\u8bd5",id:"\u4e00\u9879\u76ee\u7684\u914d\u7f6e\u542f\u52a8\u548c\u8c03\u8bd5",level:2}];function p(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"wvb-server",children:"wvb-server"})}),"\n",(0,t.jsx)(e.h2,{id:"\u4e00\u9879\u76ee\u7684\u914d\u7f6e\u542f\u52a8\u548c\u8c03\u8bd5",children:"\u4e00\u3001\u9879\u76ee\u7684\u914d\u7f6e\u3001\u542f\u52a8\u548c\u8c03\u8bd5"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"src/main/resources/application.yml"}),"\u4e3a\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u4e0b\u4e3a\u539f\u59cb\u6587\u4ef6"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:"server:\n  port: 18080\n  ssl:\n    key-store: classpath:wvp.keystore  #\u7c7b\u8def\u5f84\u4e0b\u7684\u81ea\u7b7e\u8bc1\u4e66\n    key-store-password: gbcom.123456 #\u8bc1\u4e66\u5bc6\u7801\n    enabled: true\nmps:\n  version: WVPSER_V1.0_20230426\nspring:\n  servlet:\n    multipart:\n      max-file-size: 10MB  # \u8bbe\u7f6e\u6700\u5927\u6587\u4ef6\u5927\u5c0f\u4e3a10MB\n      max-request-size: 10MB  # \u8bbe\u7f6e\u6700\u5927\u8bf7\u6c42\u5927\u5c0f\u4e3a10MB\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    platform: mysql\n    type: com.alibaba.druid.pool.DruidDataSource\n    # \u4e0b\u9762\u4e3a\u8fde\u63a5\u6c60\u7684\u8865\u5145\u8bbe\u7f6e\uff0c\u5e94\u7528\u5230\u4e0a\u9762\u6240\u6709\u6570\u636e\u6e90\u4e2d\n    # \u521d\u59cb\u5316\u5927\u5c0f\uff0c\u6700\u5c0f\uff0c\u6700\u5927\n    # druid \u914d\u7f6e: https://github.com/alibaba/druid/wiki/\n    initialSize: 1\n    minIdle: 1\n    maxActive: 20\n    # \u914d\u7f6e\u83b7\u53d6\u8fde\u63a5\u7b49\u5f85\u8d85\u65f6\u7684\u65f6\u95f4\n    maxWait: 60000\n    # \u914d\u7f6e\u95f4\u9694\u591a\u4e45\u624d\u8fdb\u884c\u4e00\u6b21\u68c0\u6d4b\uff0c\u68c0\u6d4b\u9700\u8981\u5173\u95ed\u7684\u7a7a\u95f2\u8fde\u63a5\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\n    timeBetweenEvictionRunsMillis: 60000\n    # \u914d\u7f6e\u4e00\u4e2a\u8fde\u63a5\u5728\u6c60\u4e2d\u6700\u5c0f\u751f\u5b58\u7684\u65f6\u95f4\uff0c\u5355\u4f4d\u662f\u6beb\u79d2\n    minEvictableIdleTimeMillis: 300000\n    validationQuery: select 1\n    testWhileIdle: true\n    testOnBorrow: false\n    testOnReturn: false\n    # \u6253\u5f00PSCache\uff0c\u5e76\u4e14\u6307\u5b9a\u6bcf\u4e2a\u8fde\u63a5\u4e0aPSCache\u7684\u5927\u5c0f\n    poolPreparedStatements: true\n    maxPoolPreparedStatementPerConnectionSize: 20\n    # \u914d\u7f6e\u76d1\u63a7\u7edf\u8ba1\u62e6\u622a\u7684filters\uff0cstat\u7528\u4e8e\u76d1\u63a7\u754c\u9762\uff0c'wall'\u7528\u4e8e\u9632\u706b\u5899\u9632\u5fa1sql\u6ce8\u5165, slf4j\u7528\u4e8edruid\u8bb0\u5f55sql\u65e5\u5fd7\n    filters: stat,slf4j\n    # \u901a\u8fc7connectProperties\u5c5e\u6027\u6765\u6253\u5f00mergeSql\u529f\u80fd\uff1b\u6162SQL\u8bb0\u5f55\n    connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000\n    # \u5408\u5e76\u591a\u4e2aDruidDataSource\u7684\u76d1\u63a7\u6570\u636e\n    useGlobalDataSourceStat: false\n  # redis\n  redis:\n    # \u6570\u636e\u5e93\u7d22\u5f15\uff0c\u9ed8\u8ba40\n    database: 7\n    #    # \u670d\u52a1\u5668IP\u5730\u5740\n    host: 127.0.0.1\n    #    # \u8fde\u63a5\u7aef\u53e3\n    port: 5700\n    #    # Redis\u670d\u52a1\u5668\u8fde\u63a5\u5bc6\u7801\uff08\u9ed8\u8ba4\u4e3a\u7a7a\uff09\n    password: gbcom@gidata@123\n\n    jedis:\n      pool:\n        # \u8fde\u63a5\u6c60\u6700\u5927\u8fde\u63a5\u6570\uff08\u4f7f\u7528\u8d1f\u503c\u8868\u793a\u6ca1\u6709\u9650\u5236\uff09\n        max-active: 800\n        # \u8fde\u63a5\u6c60\u6700\u5927\u963b\u585e\u7b49\u5f85\u65f6\u95f4\uff08\u4f7f\u7528\u8d1f\u503c\u8868\u793a\u6ca1\u6709\u9650\u5236\uff09\n        max-wait: 10000\n        # \u8fde\u63a5\u6c60\u4e2d\u7684\u6700\u5927\u7a7a\u95f2\u8fde\u63a5\n        max-idle: 20\n        # \u8fde\u63a5\u6c60\u4e2d\u7684\u6700\u5c0f\u7a7a\u95f2\u8fde\u63a5\n        min-idle: 2\n    # \u8fde\u63a5\u8d85\u65f6\u65f6\u95f4\uff08\u6beb\u79d2\uff09\n    timeout: 30000\n\n  # \u9ed8\u8ba4\u7684profile\u4e3adev\uff0c\u5176\u4ed6\u73af\u5883\u901a\u8fc7\u6307\u5b9a\u542f\u52a8\u53c2\u6570\u4f7f\u7528\u4e0d\u540c\u7684profile\uff0c\u6bd4\u5982\uff1a\n  #   \u6d4b\u8bd5\u73af\u5883\uff1ajava -jar bootshiro.jar --spring.profiles.active=test\n  #   \u751f\u4ea7\u73af\u5883\uff1ajava -jar bootshiro.jar --spring.profiles.active=prod\n  profiles:\n    active: dev\n# [\u53ef\u9009] \u65e5\u5fd7\u914d\u7f6e, \u4e00\u822c\u4e0d\u9700\u8981\u6539\n# \u4f5c\u4e3a28181\u670d\u52a1\u5668\u7684\u914d\u7f6e\nsip:\n  # [\u5fc5\u987b\u4fee\u6539] \u672c\u673a\u7684IP\n  ip: 10.60.100.196\n  # [\u53ef\u9009] 28181\u670d\u52a1\u76d1\u542c\u7684\u7aef\u53e3\n  port: 5060\n  # \u6839\u636e\u56fd\u68076.1.2\u4e2d\u89c4\u5b9a\uff0cdomain\u5b9c\u91c7\u7528ID\u7edf\u4e00\u7f16\u7801\u7684\u524d\u5341\u4f4d\u7f16\u7801\u3002\u56fd\u6807\u9644\u5f55D\u4e2d\u5b9a\u4e49\u524d8\u4f4d\u4e3a\u4e2d\u5fc3\u7f16\u7801\uff08\u7531\u7701\u7ea7\u3001\u5e02\u7ea7\u3001\u533a\u7ea7\u3001\u57fa\u5c42\u7f16\u53f7\u7ec4\u6210\uff0c\u53c2\u7167GB/T 2260-2007\uff09\n  # \u540e\u4e24\u4f4d\u4e3a\u884c\u4e1a\u7f16\u7801\uff0c\u5b9a\u4e49\u53c2\u7167\u9644\u5f55D.3\n  # 3701020049\u6807\u8bc6\u5c71\u4e1c\u6d4e\u5357\u5386\u4e0b\u533a \u4fe1\u606f\u884c\u4e1a\u63a5\u5165\n  # [\u53ef\u9009]\n  domain: 4401020049\n  # [\u53ef\u9009]\n  id: 44010200492000000001\n  # [\u53ef\u9009] \u9ed8\u8ba4\u8bbe\u5907\u8ba4\u8bc1\u5bc6\u7801\uff0c\u540e\u7eed\u6269\u5c55\u4f7f\u7528\u8bbe\u5907\u5355\u72ec\u5bc6\u7801, \u79fb\u9664\u5bc6\u7801\u5c06\u4e0d\u8fdb\u884c\u6821\u9a8c\n  password: admin123\n\n#zlm \u9ed8\u8ba4\u670d\u52a1\u5668\u914d\u7f6e\nmedia:\n  id: wvpmediaserver001\n  # [\u5fc5\u987b\u4fee\u6539] zlm\u670d\u52a1\u5668\u7684\u5185\u7f51IP\n\n  ip: 10.60.100.196\n  hook-ip: 10.60.100.196\n  stream-ip: 10.60.100.196\n  sdp-ip: 10.60.100.196\n  #[\u5fc5\u987b\u4fee\u6539] zlm\u670d\u52a1\u5668\u7684http.webrtc.port\n  webrtc-port: 10443\n  http-ssl-port: 10443\n  # [\u5fc5\u987b\u4fee\u6539] zlm\u670d\u52a1\u5668\u7684http.port\n  http-port: 6080\n  # [\u53ef\u9009] zlm\u670d\u52a1\u5668\u7684hook.admin_params=secret\n  secret: tzaaghfRyvwtQ7STrA1ag8K1xtThSk9v\n  # \u542f\u7528\u591a\u7aef\u53e3\u6a21\u5f0f, \u591a\u7aef\u53e3\u6a21\u5f0f\u4f7f\u7528\u7aef\u53e3\u533a\u5206\u6bcf\u8def\u6d41\uff0c\u517c\u5bb9\u6027\u66f4\u597d\u3002 \u5355\u7aef\u53e3\u4f7f\u7528\u6d41\u7684ssrc\u533a\u5206\uff0c \u70b9\u64ad\u8d85\u65f6\u5efa\u8bae\u4f7f\u7528\u591a\u7aef\u53e3\u6d4b\u8bd5\n  rtp:\n    # [\u53ef\u9009] \u662f\u5426\u542f\u7528\u591a\u7aef\u53e3\u6a21\u5f0f, \u5f00\u542f\u540e\u4f1a\u5728portRange\u8303\u56f4\u5185\u9009\u62e9\u7aef\u53e3\u7528\u4e8e\u5a92\u4f53\u6d41\u4f20\u8f93\n    enable: true\n    # [\u53ef\u9009] \u5728\u6b64\u8303\u56f4\u5185\u9009\u62e9\u7aef\u53e3\u7528\u4e8e\u5a92\u4f53\u6d41\u4f20\u8f93,\n    port-range: 30000,30500 # \u7aef\u53e3\u8303\u56f4\n    # [\u53ef\u9009] \u56fd\u6807\u7ea7\u8054\u5728\u6b64\u8303\u56f4\u5185\u9009\u62e9\u7aef\u53e3\u53d1\u9001\u5a92\u4f53\u6d41,\n    send-port-range: 30000,30500 # \u7aef\u53e3\u8303\u56f4\n  # \u5f55\u50cf\u8f85\u52a9\u670d\u52a1\uff0c \u90e8\u7f72\u6b64\u670d\u52a1\u53ef\u4ee5\u5b9e\u73b0zlm\u5f55\u50cf\u7684\u7ba1\u7406\u4e0e\u4e0b\u8f7d\uff0c 0 \u8868\u793a\u4e0d\u4f7f\u7528\n  record-assist-port: 18081\n# [\u53ef\u9009] \u65e5\u5fd7\u914d\u7f6e, \u4e00\u822c\u4e0d\u9700\u8981\u6539\n\n# [\u6839\u636e\u4e1a\u52a1\u9700\u6c42\u914d\u7f6e]\nuser-settings:\n  # \u63a8\u6d41\u76f4\u64ad\u662f\u5426\u5f55\u5236\n  record-push-live: false\n  auto-apply-play: false\n\n\nmybatis:\n  # \u6307\u5411\u5b9e\u4f53\u7c7b\u5305\u8def\u5f84\n  type-aliases-package: com.gbcom.wvp.domain.bo\n  # mapper xml \u6587\u4ef6\u5730\u5740\n  mapper-locations: classpath:mapper/*.xml\n  # \u68c0\u67e5 mybatis \u914d\u7f6e\u662f\u5426\u5b58\u5728\uff0c\u4e00\u822c\u547d\u540d\u4e3a mybatis-config.xml\n  check-config-location: true\n  # \u6267\u884c\u6a21\u5f0f\u3002\u9ed8\u8ba4\u662f SIMPLE\n  executor-type: simple\n  configuration:\n    map-underscore-to-camel-case: true\n\n\n#pagehelper\u5206\u9875\u63d2\u4ef6\npagehelper:\n\n  helperDialect: mysql\n  reasonable: false\n  supportMethodsArguments: true\n  params: count=countSql\n\n\nbootshiro:\n  enableEncryptPassword: true\nlogging:\n  config: classpath:logback-spring.xml\n# \u5728\u7ebf\u6587\u6863\uff1a swagger-ui\uff08\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u5173\u95ed\uff09\nswagger-ui:\n  enabled: true\n\n---\n# \u5f00\u53d1\u73af\u5883\u914d\u7f6e(\u914d\u7f6e\u9879\u53ea\u5305\u62ec\u73af\u5883\u4e0d\u540c\u9879)\nspring:\n  profiles: dev\n  datasource:\n    url: jdbc:mysql://127.0.0.1:3380/wvpdb?useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=Asia/Shanghai\n    username: root\n    password: wvp.123456\n  redis:\n    # \u670d\u52a1\u5668IP\u5730\u5740\n    host: 127.0.0.1\n    # \u8fde\u63a5\u7aef\u53e3\n    port: 5700\n    # Redis\u670d\u52a1\u5668\u8fde\u63a5\u5bc6\u7801\uff08\u9ed8\u8ba4\u4e3a\u7a7a\uff09\n    password: gbcom@gidata@123\n\n---\n# \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e(\u914d\u7f6e\u9879\u53ea\u5305\u62ec\u4e0d\u540c\u9879)\n\nspring:\n  profiles: test\n  datasource:\n    url: jdbc:mysql://127.0.0.1:3306/wvpdb?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai\n    username: root\n    password: 123456\n  redis:\n    # \u670d\u52a1\u5668IP\u5730\u5740\n    host: 10.60.2.175\n    # \u8fde\u63a5\u7aef\u53e3\n    port: 6380\n    # Redis\u670d\u52a1\u5668\u8fde\u63a5\u5bc6\u7801\uff08\u9ed8\u8ba4\u4e3a\u7a7a\uff09\n    password:\n\n---\n# \u751f\u4ea7\u73af\u5883\u914d\u7f6e(\u914d\u7f6e\u9879\u53ea\u5305\u62ec\u4e0d\u540c\u9879)\n\nspring:\n  profiles: prod\n  datasource:\n    url: jdbc:mysql://172.16.215.193:3306/wvpdb?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai\n    username: root\n    password: 123456\n  redis:\n    # \u670d\u52a1\u5668IP\u5730\u5740\n    host: 10.60.2.175\n    # \u8fde\u63a5\u7aef\u53e3\n    port: 6380\n    # Redis\u670d\u52a1\u5668\u8fde\u63a5\u5bc6\u7801\uff08\u9ed8\u8ba4\u4e3a\u7a7a\uff09\n    password: gbcom@gidata@123\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5efa\u8bae\u4fee\u6539\u5176\u4e2d\u4ee5\u4e0b\u7684\u53c2\u6570\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:"server:\n  port: 8970\n  \nsip:\n  # [\u5fc5\u987b\u4fee\u6539] \u672c\u673a\u7684IP\n  ip: 172.168.5.247\n  \n#zlm \u9ed8\u8ba4\u670d\u52a1\u5668\u914d\u7f6e\nmedia:\n  id: wvpmediaserver001\n  # [\u5fc5\u987b\u4fee\u6539] zlm\u670d\u52a1\u5668\u7684\u5185\u7f51IP\n\n  ip: 172.168.5.247\n  hook-ip: 172.168.5.247\n  stream-ip: 172.168.5.247\n  sdp-ip: 172.168.5.247\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5e76\u4e14\u8981\u4fee\u6539\u4ee5\u4e0b\u6587\u4ef6"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"\u202aD:\\sw\\wvp-windows\\zlm\\config.ini"}),"\uff0c\u5c06\u5176\u4e2d\u7684\u6240\u6709IP\u5730\u5740\uff0c\u6539\u4e3a\u4f60\u7684ipv4\u5730\u5740\uff0c\u53ef\u4ee5\u641c\u7d22\u5176\u4e2d\u7684127.0.01\uff0c\u5168\u90e8\u66ff\u6362\u4e3a",(0,t.jsx)(e.code,{children:"172.168.5.247"})]})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(p,{...n})}):p(n)}},28453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>i});var s=r(96540);const t={},a=s.createContext(t);function o(n){const e=s.useContext(a);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(a.Provider,{value:e},n.children)}}}]);